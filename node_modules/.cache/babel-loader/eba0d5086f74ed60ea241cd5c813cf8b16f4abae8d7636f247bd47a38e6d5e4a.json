{"ast":null,"code":"var _jsxFileName = \"/Users/musaceesay/assignment4/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport Playlist from \"./components/Playlist\";\nimport './style.css';\nimport axios from \"axios\";\nimport Prev from \"./components/Prev\";\nimport Status from \"./components/Status\";\nimport PlayPause from \"./components/PlayPause\";\nimport Next from \"./components/Next\";\nimport Shuffle from \"./components/Shuffle\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [audioData, setAudioData] = useState([]);\n  const [currentlyPlayingIndex, setCurrentlyPlayingIndex] = useState(null);\n  const [isPlaying, setIsPlaying] = useState(true);\n  const ref = useRef(null);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await axios.get('http://localhost:3002/audio');\n        setAudioData(response.data);\n      } catch (error) {\n        console.error('Error fetching audio data:', error);\n      }\n    };\n    fetchData();\n  }, []);\n  const handlePrevious = () => {\n    setIsPlaying(true);\n    if (currentlyPlayingIndex === 0) {\n      setCurrentlyPlayingIndex(audioData.length - 1);\n    } else {\n      setCurrentlyPlayingIndex(currentlyPlayingIndex - 1);\n    }\n  };\n  const handleNext = () => {\n    setIsPlaying(true);\n    if (currentlyPlayingIndex === audioData.length - 1) {\n      setCurrentlyPlayingIndex(0);\n    } else {\n      setCurrentlyPlayingIndex(currentlyPlayingIndex + 1);\n    }\n  };\n  const handleShuffle = useCallback(() => {\n    const shuffled = audioData.sort(() => Math.random() - 0.5);\n    setAudioData([...shuffled]);\n  }, [audioData]);\n  const onSelection = index => {\n    var _ref$current;\n    setCurrentlyPlayingIndex(index);\n    (_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tiles-background\",\n      children: [currentlyPlayingIndex !== null && /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: ref,\n        className: \"status\",\n        children: [/*#__PURE__*/_jsxDEV(Status, {\n          audioData: audioData,\n          currentlyPlayingIndex: currentlyPlayingIndex,\n          isPlaying: isPlaying\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"icons\",\n          children: [/*#__PURE__*/_jsxDEV(Prev, {\n            handlePrevious: handlePrevious\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(PlayPause, {\n            isPlaying: isPlaying,\n            setIsPlaying: setIsPlaying\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Next, {\n            handleNext: handleNext\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Shuffle, {\n            handleShuffle: handleShuffle\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Playlist, {\n        audioData: audioData,\n        onSelection: onSelection\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 9\n  }, this);\n};\n_s(App, \"CptGNX3xEkQhD/Z2+ATi68Uh/0c=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useCallback","useEffect","useRef","useState","Playlist","axios","Prev","Status","PlayPause","Next","Shuffle","jsxDEV","_jsxDEV","App","_s","audioData","setAudioData","currentlyPlayingIndex","setCurrentlyPlayingIndex","isPlaying","setIsPlaying","ref","fetchData","response","get","data","error","console","handlePrevious","length","handleNext","handleShuffle","shuffled","sort","Math","random","onSelection","index","_ref$current","current","scrollIntoView","behavior","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/musaceesay/assignment4/src/App.js"],"sourcesContent":["import React, {useCallback, useEffect, useRef, useState} from 'react';\n\nimport Playlist from \"./components/Playlist\";\nimport './style.css';\nimport axios from \"axios\";\nimport Prev from \"./components/Prev\";\nimport Status from \"./components/Status\";\nimport PlayPause from \"./components/PlayPause\";\nimport Next from \"./components/Next\";\nimport Shuffle from \"./components/Shuffle\";\n\nconst App = () => {\n\n    const [audioData, setAudioData] = useState([]);\n    const [currentlyPlayingIndex, setCurrentlyPlayingIndex] = useState(null);\n    const [isPlaying, setIsPlaying] = useState(true);\n\n    const ref = useRef(null);\n\n\n    useEffect(() => {\n        const fetchData = async () => {\n            try {\n                const response = await axios.get('http://localhost:3002/audio');\n                setAudioData(response.data);\n\n            } catch (error) {\n                console.error('Error fetching audio data:', error);\n            }\n        };\n\n        fetchData();\n    }, []);\n\n    const handlePrevious = () => {\n        setIsPlaying(true)\n        if (currentlyPlayingIndex === 0) {\n            setCurrentlyPlayingIndex(audioData.length - 1)\n        } else {\n            setCurrentlyPlayingIndex(currentlyPlayingIndex - 1)\n        }\n    }\n    const handleNext = () => {\n        setIsPlaying(true)\n        if (currentlyPlayingIndex === audioData.length - 1) {\n            setCurrentlyPlayingIndex(0)\n        } else {\n            setCurrentlyPlayingIndex(currentlyPlayingIndex + 1)\n        }\n    }\n    const handleShuffle = useCallback(() => {\n        const shuffled = audioData.sort(() => Math.random() - 0.5);\n        setAudioData([...shuffled])\n    }, [audioData])\n\n    const onSelection = (index) => {\n        setCurrentlyPlayingIndex(index)\n        ref.current?.scrollIntoView({behavior: 'smooth'});\n    }\n\n    return (\n        <div className=\"app\">\n            <div className=\"tiles-background\">\n                {currentlyPlayingIndex !== null &&\n                    <div ref={ref} className=\"status\">\n                        <Status audioData={audioData} currentlyPlayingIndex={currentlyPlayingIndex}\n                                isPlaying={isPlaying}/>\n                        <div className=\"icons\">\n                            <Prev handlePrevious={handlePrevious}/>\n                            <PlayPause isPlaying={isPlaying} setIsPlaying={setIsPlaying}/>\n                            <Next handleNext={handleNext}/>\n                            <Shuffle handleShuffle={handleShuffle}/>\n                        </div>\n                    </div>\n                }\n                <Playlist audioData={audioData} onSelection={onSelection}/>\n            </div>\n        </div>\n    );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}